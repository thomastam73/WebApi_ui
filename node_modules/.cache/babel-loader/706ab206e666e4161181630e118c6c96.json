{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useCallback } from 'react';\nimport axios from 'axios';\nimport { useSnackbar } from 'notistack';\n\nconst useDelete = ({\n  url\n}) => {\n  _s();\n\n  const apiUrl = window.siteSetting.dev ? window.siteSetting.testApiUrl : window.siteSetting.apiUrl;\n  const [res, setRes] = useState({\n    data: null,\n    isLoading: false,\n    error: null\n  });\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const callAPI = useCallback(() => {\n    setRes(prevState => ({ ...prevState,\n      isLoading: true\n    }));\n    const token = localStorage.getItem('Token');\n    axios.delete(apiUrl + url, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => {\n      setRes({\n        data: response.data,\n        isLoading: false,\n        error: null\n      });\n      enqueueSnackbar('Delete successful', {\n        variant: 'success'\n      });\n    }).catch(error => {\n      setRes({\n        data: null,\n        isLoading: false,\n        error\n      });\n      enqueueSnackbar('Delete Error', {\n        variant: 'error'\n      });\n    });\n  }, [url]);\n  return [res, callAPI];\n};\n\n_s(useDelete, \"SPMnKiCQlVCgu/lZP9W0wIfdVjw=\", false, function () {\n  return [useSnackbar];\n});\n\nexport default useDelete;","map":{"version":3,"sources":["/Users/manmanbbg/Desktop/degree/Agile Develop/Project/302cem_covid19_app_ui/src/hooks/https/useDelete.js"],"names":["useState","useCallback","axios","useSnackbar","useDelete","url","apiUrl","window","siteSetting","dev","testApiUrl","res","setRes","data","isLoading","error","enqueueSnackbar","callAPI","prevState","token","localStorage","getItem","delete","headers","Authorization","then","response","variant","catch"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,WAAnB,QAAsC,OAAtC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,WAA5B;;AAEA,MAAMC,SAAS,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAa;AAAA;;AAC7B,QAAMC,MAAM,GAAGC,MAAM,CAACC,WAAP,CAAmBC,GAAnB,GAAyBF,MAAM,CAACC,WAAP,CAAmBE,UAA5C,GAAyDH,MAAM,CAACC,WAAP,CAAmBF,MAA3F;AACA,QAAM,CAACK,GAAD,EAAMC,MAAN,IAAgBZ,QAAQ,CAAC;AAAEa,IAAAA,IAAI,EAAE,IAAR;AAAcC,IAAAA,SAAS,EAAE,KAAzB;AAAgCC,IAAAA,KAAK,EAAE;AAAvC,GAAD,CAA9B;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAsBb,WAAW,EAAvC;AAEA,QAAMc,OAAO,GAAGhB,WAAW,CAAC,MAAM;AAChCW,IAAAA,MAAM,CAAEM,SAAD,KAAgB,EAAE,GAAGA,SAAL;AAAgBJ,MAAAA,SAAS,EAAE;AAA3B,KAAhB,CAAD,CAAN;AACA,UAAMK,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AAEAnB,IAAAA,KAAK,CACFoB,MADH,CACUhB,MAAM,GAAGD,GADnB,EACwB;AACpBkB,MAAAA,OAAO,EAAE;AAAEC,QAAAA,aAAa,EAAG,UAASL,KAAM;AAAjC;AADW,KADxB,EAIGM,IAJH,CAISC,QAAD,IAAc;AAClBd,MAAAA,MAAM,CAAC;AAAEC,QAAAA,IAAI,EAAEa,QAAQ,CAACb,IAAjB;AAAuBC,QAAAA,SAAS,EAAE,KAAlC;AAAyCC,QAAAA,KAAK,EAAE;AAAhD,OAAD,CAAN;AACAC,MAAAA,eAAe,CAAC,mBAAD,EAAsB;AACnCW,QAAAA,OAAO,EAAE;AAD0B,OAAtB,CAAf;AAGD,KATH,EAUGC,KAVH,CAUUb,KAAD,IAAW;AAChBH,MAAAA,MAAM,CAAC;AAAEC,QAAAA,IAAI,EAAE,IAAR;AAAcC,QAAAA,SAAS,EAAE,KAAzB;AAAgCC,QAAAA;AAAhC,OAAD,CAAN;AACAC,MAAAA,eAAe,CAAC,cAAD,EAAiB;AAC9BW,QAAAA,OAAO,EAAE;AADqB,OAAjB,CAAf;AAGD,KAfH;AAgBD,GApB0B,EAoBxB,CAACtB,GAAD,CApBwB,CAA3B;AAqBA,SAAO,CAACM,GAAD,EAAMM,OAAN,CAAP;AACD,CA3BD;;GAAMb,S;UAGwBD,W;;;AA0B9B,eAAeC,SAAf","sourcesContent":["import { useState, useCallback } from 'react';\nimport axios from 'axios';\nimport { useSnackbar } from 'notistack';\n\nconst useDelete = ({ url }) => {\n  const apiUrl = window.siteSetting.dev ? window.siteSetting.testApiUrl : window.siteSetting.apiUrl;\n  const [res, setRes] = useState({ data: null, isLoading: false, error: null });\n  const { enqueueSnackbar } = useSnackbar();\n\n  const callAPI = useCallback(() => {\n    setRes((prevState) => ({ ...prevState, isLoading: true }));\n    const token = localStorage.getItem('Token');\n\n    axios\n      .delete(apiUrl + url, {\n        headers: { Authorization: `Bearer ${token}` },\n      })\n      .then((response) => {\n        setRes({ data: response.data, isLoading: false, error: null });\n        enqueueSnackbar('Delete successful', {\n          variant: 'success',\n        });\n      })\n      .catch((error) => {\n        setRes({ data: null, isLoading: false, error });\n        enqueueSnackbar('Delete Error', {\n          variant: 'error',\n        });\n      });\n  }, [url]);\n  return [res, callAPI];\n};\n\nexport default useDelete;\n"]},"metadata":{},"sourceType":"module"}