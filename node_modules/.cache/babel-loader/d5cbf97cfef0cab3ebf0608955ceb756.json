{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useCallback } from \"react\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\n\nconst usePost = ({\n  url,\n  payload\n}) => {\n  _s();\n\n  const apiUrl = window.siteSetting.dev ? window.siteSetting.testApiUrl : window.siteSetting.apiUrl;\n  const [res, setRes] = useState({\n    data: null,\n    isLoading: false,\n    error: null\n  });\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const callAPI = useCallback(() => {\n    setRes(prevState => ({ ...prevState,\n      isLoading: true\n    }));\n    axios.post(apiUrl + url, payload).then(response => {\n      setRes({\n        data: response.data,\n        isLoading: false,\n        error: null\n      });\n      enqueueSnackbar(\"Successful\", {\n        variant: \"success\"\n      });\n    }).catch(error => {\n      setRes({\n        data: null,\n        isLoading: false,\n        error: error.response.data\n      });\n      enqueueSnackbar(\"Error\", {\n        variant: \"error\"\n      });\n    });\n  }, [apiUrl, url, payload, enqueueSnackbar]);\n  return [res, callAPI];\n};\n\n_s(usePost, \"SPMnKiCQlVCgu/lZP9W0wIfdVjw=\", false, function () {\n  return [useSnackbar];\n});\n\nexport default usePost;","map":{"version":3,"sources":["/Users/manmanbbg/Desktop/degree/FYP/project/FYP_UI-f988824d18fbe1260d3a85c4dcd7902a93f4ed19/src/hooks/https/registerUsePost.js"],"names":["useState","useCallback","axios","useSnackbar","usePost","url","payload","apiUrl","window","siteSetting","dev","testApiUrl","res","setRes","data","isLoading","error","enqueueSnackbar","callAPI","prevState","post","then","response","variant","catch"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,WAAnB,QAAsC,OAAtC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,WAA5B;;AAEA,MAAMC,OAAO,GAAG,CAAC;AAAEC,EAAAA,GAAF;AAAOC,EAAAA;AAAP,CAAD,KAAsB;AAAA;;AACpC,QAAMC,MAAM,GAAGC,MAAM,CAACC,WAAP,CAAmBC,GAAnB,GACXF,MAAM,CAACC,WAAP,CAAmBE,UADR,GAEXH,MAAM,CAACC,WAAP,CAAmBF,MAFvB;AAGA,QAAM,CAACK,GAAD,EAAMC,MAAN,IAAgBb,QAAQ,CAAC;AAAEc,IAAAA,IAAI,EAAE,IAAR;AAAcC,IAAAA,SAAS,EAAE,KAAzB;AAAgCC,IAAAA,KAAK,EAAE;AAAvC,GAAD,CAA9B;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAsBd,WAAW,EAAvC;AAEA,QAAMe,OAAO,GAAGjB,WAAW,CAAC,MAAM;AAChCY,IAAAA,MAAM,CAAEM,SAAD,KAAgB,EAAE,GAAGA,SAAL;AAAgBJ,MAAAA,SAAS,EAAE;AAA3B,KAAhB,CAAD,CAAN;AAEAb,IAAAA,KAAK,CACFkB,IADH,CACQb,MAAM,GAAGF,GADjB,EACsBC,OADtB,EAEGe,IAFH,CAESC,QAAD,IAAc;AAClBT,MAAAA,MAAM,CAAC;AAAEC,QAAAA,IAAI,EAAEQ,QAAQ,CAACR,IAAjB;AAAuBC,QAAAA,SAAS,EAAE,KAAlC;AAAyCC,QAAAA,KAAK,EAAE;AAAhD,OAAD,CAAN;AACAC,MAAAA,eAAe,CAAC,YAAD,EAAe;AAC5BM,QAAAA,OAAO,EAAE;AADmB,OAAf,CAAf;AAGD,KAPH,EAQGC,KARH,CAQUR,KAAD,IAAW;AAChBH,MAAAA,MAAM,CAAC;AAAEC,QAAAA,IAAI,EAAE,IAAR;AAAcC,QAAAA,SAAS,EAAE,KAAzB;AAAgCC,QAAAA,KAAK,EAAEA,KAAK,CAACM,QAAN,CAAeR;AAAtD,OAAD,CAAN;AACAG,MAAAA,eAAe,CAAC,OAAD,EAAU;AACvBM,QAAAA,OAAO,EAAE;AADc,OAAV,CAAf;AAGD,KAbH;AAcD,GAjB0B,EAiBxB,CAAChB,MAAD,EAASF,GAAT,EAAcC,OAAd,EAAuBW,eAAvB,CAjBwB,CAA3B;AAkBA,SAAO,CAACL,GAAD,EAAMM,OAAN,CAAP;AACD,CA1BD;;GAAMd,O;UAKwBD,W;;;AAuB9B,eAAeC,OAAf","sourcesContent":["import { useState, useCallback } from \"react\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\n\nconst usePost = ({ url, payload }) => {\n  const apiUrl = window.siteSetting.dev\n    ? window.siteSetting.testApiUrl\n    : window.siteSetting.apiUrl;\n  const [res, setRes] = useState({ data: null, isLoading: false, error: null });\n  const { enqueueSnackbar } = useSnackbar();\n\n  const callAPI = useCallback(() => {\n    setRes((prevState) => ({ ...prevState, isLoading: true }));\n\n    axios\n      .post(apiUrl + url, payload)\n      .then((response) => {\n        setRes({ data: response.data, isLoading: false, error: null });\n        enqueueSnackbar(\"Successful\", {\n          variant: \"success\",\n        });\n      })\n      .catch((error) => {\n        setRes({ data: null, isLoading: false, error: error.response.data });\n        enqueueSnackbar(\"Error\", {\n          variant: \"error\",\n        });\n      });\n  }, [apiUrl, url, payload, enqueueSnackbar]);\n  return [res, callAPI];\n};\n\nexport default usePost;\n"]},"metadata":{},"sourceType":"module"}